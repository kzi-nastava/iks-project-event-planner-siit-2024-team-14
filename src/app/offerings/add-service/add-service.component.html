<div class="popup-overlay">
  <!-- Top Decorative Lines -->
  <div class="decorative-lines top-lines"></div>

  <!-- Popup Container -->
  <div class="popup-container">
    <!-- Heading -->
    <h2>Create a Service</h2>
    <!-- Close Button (X) -->
    <button class="close-btn" (click)="closePopup()">X</button>

    <!-- Form Section -->
    <form [formGroup]="createServiceForm" (ngSubmit)="createService()">

      <!-- Name -->
      <div class="form-group">
        <label for="name">Service Name</label>
        <input
          id="name"
          type="text"
          placeholder="Enter service name"
          name="name"
          formControlName="name"
        />
      </div>

      <!-- Description -->
      <div class="form-group">
        <label for="description">Description</label>
        <textarea
          id="description"
          placeholder="Enter a brief description..."
          rows="3"
          name="description"
          formControlName="description"
        ></textarea>
      </div>

      <!-- Category -->
      <div class="form-group">
        <label for="category">Category</label>
        <select id="category" name="category" formControlName="category">
          <option *ngFor="let categoryName of availableCategories" [value]="categoryName">
            {{ categoryName }}
          </option>
          <option value="suggestNew">Suggest new category</option>
        </select>
        <input
          id="customCategory"
          type="text"
          placeholder="Enter custom category name"
          name="customCategory"
          formControlName="customCategory"
          *ngIf="createServiceForm.get('category')?.value === 'suggestNew'"
        />
        <!-- Category description may be added later on. -->
      </div>

      <!-- Applicable Event Types -->
      <div class="form-group">
        <label for="eventTypes">Applicable Event Types</label>
        <select id="eventTypes" multiple formControlName="eventTypes" name="eventTypes">
          <option *ngFor="let typeName of availableEventTypes" [value]="typeName">
            {{ typeName }}
          </option>
        </select>
      </div>

      <!-- Price -->
      <div class="form-group">
        <label for="price">Price</label>
        <input
          id="price"
          type="number"
          min="0"
          placeholder="0.00"
          name="price"
          formControlName="price"
        />
      </div>

      <!-- Discount -->
      <div class="form-group">
        <label for="discount">Discount (%)</label>
        <input
          id="discount"
          type="number"
          min="0"
          max="100"
          placeholder="e.g., 10"
          name="discount"
          formControlName="discount"
        />
      </div>

      <!-- Images -->
      <div class="form-group">
        <label for="images">Images</label>
        <input
          id="images"
          type="file"
          multiple
          accept="image/*"
          name="images"
          formControlName="images"
        />
      </div>

      <!-- Reservation Policy -->
      <div class="form-group">
        <label>Reservation Policy</label>
        <div>
          <label for="reservationPolicyManual">
            <input
              type="radio"
              id="reservationPolicyManual"
              name="reservationPolicy"
              formControlName="reservationPolicy"
              value="manual"
            /> Manual
          </label>
          <label for="reservationPolicyAutomatic">
            <input
              type="radio"
              id="reservationPolicyAutomatic"
              name="reservationPolicy"
              formControlName="reservationPolicy"
              value="automatic"
            /> Automatic
          </label>
        </div>
      </div>

      <!-- Visibility -->
      <div class="form-group">
        <label>Visibility</label>
        <div>
          <label for="visibilityPublic">
            <input
              type="radio"
              id="visibilityPublic"
              name="visibility"
              formControlName="visibility"
              value="public"
            /> Public
          </label>
          <label for="visibilityPrivate">
            <input
              type="radio"
              id="visibilityPrivate"
              name="visibility"
              formControlName="visibility"
              value="private"
            /> Private
          </label>
        </div>
      </div>

      <!-- Availability -->
      <div class="form-group">
        <label>Availability</label>
        <div>
          <label for="availabilityAvailable">
            <input
              type="radio"
              id="availabilityAvailable"
              name="availability"
              formControlName="availability"
              value="available"
            /> Available
          </label>
          <label for="availabilityUnavailable">
            <input
              type="radio"
              id="availabilityUnavailable"
              name="availability"
              formControlName="availability"
              value="unavailable"
            /> Unavailable
          </label>
        </div>
      </div>

      <!-- Duration -->
      <div class="form-group">
        <label for="duration">Session Duration (hours)</label>
        <input
          id="duration"
          type="number"
          min="0"
          placeholder="e.g., 2"
          name="duration"
          formControlName="duration"
        />
      </div>

      <!-- Minimum Reservation Time -->
      <div class="form-group">
        <label for="minReservationTime">Minimum Reservation Time (hours)</label>
        <input
          id="minReservationTime"
          type="number"
          min="0"
          placeholder="e.g., 1"
          name="minReservationTime"
          formControlName="minReservationTime"
        />
      </div>

      <!-- Maximum Reservation Time -->
      <div class="form-group">
        <label for="maxReservationTime">Maximum Reservation Time (hours)</label>
        <input
          id="maxReservationTime"
          type="number"
          min="0"
          placeholder="e.g., 8"
          name="maxReservationTime"
          formControlName="maxReservationTime"
        />
      </div>

      <!-- Reservation Time Span -->
      <div class="form-group">
        <label for="reservationTimeSpan">Reservation Time Span (days in advance)</label>
        <input
          id="reservationTimeSpan"
          type="number"
          min="0"
          placeholder="e.g., 30"
          name="reservationTimeSpan"
          formControlName="reservationTimeSpan"
        />
      </div>

      <!-- Cancellation Time Period -->
      <div class="form-group">
        <label for="cancellationTimePeriod">Cancellation Time Period (hours)</label>
        <input
          id="cancellationTimePeriod"
          type="number"
          min="0"
          placeholder="e.g., 24"
          name="cancellationTimePeriod"
          formControlName="cancellationTimePeriod"
        />
      </div>
    </form>

    <!-- Submit Button -->
    <div class="form-group">
      <button type="submit" class="btn-confirm" (click)="createService()">Create</button>
    </div>

  </div>

  <!-- Bottom Decorative Lines -->
  <div class="decorative-lines bottom-lines"></div>
</div>
